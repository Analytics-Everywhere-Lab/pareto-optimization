Model optimization using compact network design